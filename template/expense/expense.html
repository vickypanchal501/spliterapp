<!-- {% load static %} -->


<!-- MATERIAL DESIGN ICONIC FONT -->
<link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
<!-- STYLE CSS -->
<link href="{% static 'css/expense/style.css' %}" rel="stylesheet" />
<!-- <link href="{% static 'css/expense/style.css.map' %}" rel="stylesheet" /> -->
<!-- <link href="{% static 'css/expense/style.scss' %}" rel="stylesheet" /> -->


<div class="modal-content" style="background: none;">


    <div class="wrapper">
        <!-- <form action=""> -->
        <div id="wizard" role="application" class="wizard clearfix">
            <div class="steps clearfix">
                <ul role="tablist">
                    <li role="tab" aria-disabled="false" class="first current" aria-selected="true"><a id="wizard-t-0"
                            href="#wizard-h-0" aria-controls="wizard-p-0"><span class="current-info audible">current
                                step: </span><span class="number">1.</span>
                        </a></li>
                    <li role="tab" aria-disabled="false"><a id="wizard-t-1" href="#wizard-h-1"
                            aria-controls="wizard-p-1"><span class="number">2.</span> </a></li>
                    <li role="tab" aria-disabled="false" class="last"><a id="wizard-t-2" href="#wizard-h-2"
                            aria-controls="wizard-p-2"><span class="number">3.</span> </a></li>
                </ul>
            </div>
            <form action="{% url 'Main' %}" method="post">
                <div class="content clearfix">

                    <h4 id="wizard-h-0" tabindex="-1" class="title current"></h4>
                    <section id="wizard-p-0" role="tabpanel" aria-labelledby="wizard-h-0" class="body current"
                        aria-hidden="false">
                        <div class="form-header">
                            <div class="avartar">
                                <a href="#">
                                    <img src="images/avartar.png" alt="">
                                </a>
                                <div class="avartar-picker">
                                    <input type="file" name="file-1[]" id="file-1" class="inputfile"
                                        data-multiple-caption="{count} files selected" multiple="">
                                    <label for="file-1">
                                        <i class="zmdi zmdi-camera"></i>
                                        <span>Choose Picture</span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-holder active" style="color: brown;">
                                    <input type="text" placeholder="Add Description" class="form-control"
                                        name="description">
                                </div>
                                <div class="form-holder">
                                    <input type="number" placeholder="Add Amount" class="form-control" name='amount'>
                                </div>

                            </div>
                        </div>
                        <!-- <div class="form-holder">
                            <input type="text" placeholder="Email" class="form-control">
                        </div> -->
                        
                            <div class="human_summary">Paid by <a class="payer"><select style="background: none; font-size: 16px; color: #f8b739;" name="paid_by" id="paid_by">
                                {% for user in group.members.all %}
                                    <option style="color: #f8b739 ; padding: 10px; text-align: center;" value="{{ user.id }}">{{ user.username }}</option>
                                {% endfor %}
                            </select></a> and split <a
                                    class="split">equally </a>â€‹.
                                    
                            </div>
                            <div style="display: flex; justify-content: center; font-size: 18p;" class="details">($0.00/person)</div>
    

                    </section>

                </div>
                <div class="actions clearfix">
                    <ul role="menu" aria-label="Pagination">
                        <li class="disabled" aria-disabled="true"><a href="#previous" role="menuitem">Back</a></li>
                        <li aria-hidden="false" aria-disabled="false"><a role="menuitem" type="submit">Continue</a></li>
                        <li aria-hidden="true" style="display: none;"><a href="#finish" role="menuitem">Finish</a></li>
                    </ul>
                </div>
        </div>
        <!-- </form> -->
    </div>
</div>




<script src="{% static 'js/expense/main.js' %}"></script>
<script src="{% static 'js/expense/jquery.steps.js' %}"></script>
<script src="{% static 'js/expense/theme-map.js' %}"></script>

<script src="{% static 'js/expense/jquery-3.3.1.min.js' %}"></script>

<!-- Template created and distributed by Colorlib -->



<!-- <!DOCTYPE html>
<html>
<head>
    <title>Add Expense</title>
</head>
<body>
    <h1>Add Expense</h1>
    <form method="post">
        {% csrf_token %}
        <label for="description">Description:</label>
        <input type="text" name="description" id="description" required>
        
        <label for="split_amount">Amount:</label>
        <input type="number" name="split_amount" step="0.01" id="split_amount" required>

        <label>Participants:</label>
        <div class="participants-checkbox" >
            {% for user in group.members.all %}
                <label>
                    <input type="checkbox" name="split_with" id="split_with" value="{{ user.id }}">
                    {{ user.username }}
                </label>
            {% endfor %}
        </div>

        <label for="split_amount_per_user">Split Amount Per User:</label>
        <div id="split-amount-per-user"></div>

        <label for="paid_by">Paid by:</label>
        <select name="paid_by" id="paid_by">
            {% for user in group.members.all %}
                <option value="{{ user.id }}">{{ user.username }}</option>
            {% endfor %}
        </select>
        
        <button type="submit">Add Expense</button>
    </form>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        // Select elements
        const $splitAmountField = $("#split_amount");
        const $splitWithCheckboxes = $("input[name='split_with']");
        const $splitAmountPerUser = $("#split-amount-per-user");
        
        // Event handlers
        $splitAmountField.on("input", updateSplitAmount);
        $splitWithCheckboxes.on("change", updateSplitAmount);
        
        // Function to update split amount
        function updateSplitAmount() {
            const totalAmount = parseFloat($splitAmountField.val()) || 0;
            const selectedParticipants = $splitWithCheckboxes.filter(":checked");
            const numberOfParticipants = selectedParticipants.length;
            const splitAmount = numberOfParticipants > 0
                ? totalAmount / numberOfParticipants
                : 0;
            
            $splitAmountPerUser.text(splitAmount.toFixed(2));
        }
    });
</script>

</body>
</html> -->